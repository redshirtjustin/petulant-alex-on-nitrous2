<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>
  Class: Position
  
    &mdash; Documentation by YARD 0.8.7.6
  
</title>

  <link rel="stylesheet" href="css/style.css" type="text/css" charset="utf-8" />

  <link rel="stylesheet" href="css/common.css" type="text/css" charset="utf-8" />

<script type="text/javascript" charset="utf-8">
  hasFrames = window.top.frames.main ? true : false;
  relpath = '';
  framesUrl = "frames.html#!Position.html";
</script>


  <script type="text/javascript" charset="utf-8" src="js/jquery.js"></script>

  <script type="text/javascript" charset="utf-8" src="js/app.js"></script>


  </head>
  <body>
    <div id="header">
      <div id="menu">
  
    <a href="_index.html">Index (P)</a> &raquo;
    
    
    <span class="title">Position</span>
  

  <div class="noframes"><span class="title">(</span><a href="." target="_top">no frames</a><span class="title">)</span></div>
</div>

      <div id="search">
  
    <a class="full_list_link" id="class_list_link"
        href="class_list.html">
      Class List
    </a>
  
    <a class="full_list_link" id="method_list_link"
        href="method_list.html">
      Method List
    </a>
  
    <a class="full_list_link" id="file_list_link"
        href="file_list.html">
      File List
    </a>
  
</div>
      <div class="clear"></div>
    </div>

    <iframe id="search_frame"></iframe>

    <div id="content"><h1>Class: Position
  
  
  
</h1>

<dl class="box">
  
    <dt class="r1">Inherits:</dt>
    <dd class="r1">
      <span class="inheritName">ActiveRecord::Base</span>
      
        <ul class="fullTree">
          <li>Object</li>
          
            <li class="next">ActiveRecord::Base</li>
          
            <li class="next">Position</li>
          
        </ul>
        <a href="#" class="inheritanceTree">show all</a>
      
      </dd>
    
  
  
    
  
    
  
  
  
    <dt class="r2 last">Defined in:</dt>
    <dd class="r2 last">app/models/position.rb</dd>
  
</dl>
<div class="clear"></div>

<h2>Overview</h2><div class="docstring">
  <div class="discussion">
    
<p>A position. A collection of positions, associated to a single owning Story
is considered the &#39;positions stack&#39; or &#39;pstack&#39;.</p>


  </div>
</div>
<div class="tags">
  

</div>



  <h2>Instance Attribute Summary <small>(<a href="#" class="summary_toggle">collapse</a>)</small></h2>
  <ul class="summary">
    
      <li class="public ">
  <span class="summary_signature">
    
      <a href="#active-instance_method" title="#active (instance method)">- (Boolean) <strong>active</strong> </a>
    

    
  </span>
  
  
  
    
    
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>be able to view this position&#39;s content.</p>
</div></span>
  
</li>

    
      <li class="public ">
  <span class="summary_signature">
    
      <a href="#position-instance_method" title="#position (instance method)">- (Integer) <strong>position</strong> </a>
    

    
  </span>
  
  
  
    
    
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>The position in the pstack of an associated story.</p>
</div></span>
  
</li>

    
  </ul>




  
    <h2>
      Age and Freshness getters
      <small>(<a href="#" class="summary_toggle">collapse</a>)</small>
    </h2>

    <ul class="summary">
      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#age-instance_method" title="#age (instance method)">- (String) <strong>age</strong> </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>The age in words.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#freshness-instance_method" title="#freshness (instance method)">- (String) <strong>freshness</strong> </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>The freshness in words.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#get_date_created-instance_method" title="#get_date_created (instance method)">- (TimeWithZone) <strong>get_date_created</strong> </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>The timedate when the citation was created.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#get_date_updated-instance_method" title="#get_date_updated (instance method)">- (TimeWithZone) <strong>get_date_updated</strong> </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>The timedate when the citation was created.</p>
</div></span>
  
</li>

      
    </ul>
  
    <h2>
      Activation Methods
      <small>(<a href="#" class="summary_toggle">collapse</a>)</small>
    </h2>

    <ul class="summary">
      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#activate-instance_method" title="#activate (instance method)">- (Boolean) <strong>activate</strong> </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Sets the position to active, &#39;activates the position&#39; and saves it.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#inactivate-instance_method" title="#inactivate (instance method)">- (Boolean) <strong>inactivate</strong> </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Sets the position to inactive, &#39;inactivates the position&#39; and saves
it.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#is_active%3F-instance_method" title="#is_active? (instance method)">- (Boolean) <strong>is_active?</strong> </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Is the position active?.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#is_inactive%3F-instance_method" title="#is_inactive? (instance method)">- (Boolean) <strong>is_inactive?</strong> </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Is the position inactive?.</p>
</div></span>
  
</li>

      
    </ul>
  
    <h2>
      Descriptive Attributes getters and setters
      <small>(<a href="#" class="summary_toggle">collapse</a>)</small>
    </h2>

    <ul class="summary">
      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#get_element_id-instance_method" title="#get_element_id (instance method)">- (Integer) <strong>get_element_id</strong> </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>The id of the element attached to this position.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#get_element_type-instance_method" title="#get_element_type (instance method)">- (String) <strong>get_element_type</strong> </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>The type of the element attached to this position.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#get_owner-instance_method" title="#get_owner (instance method)">- (Integer) <strong>get_owner</strong> </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>The Story owner&#39;s id.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#get_position-instance_method" title="#get_position (instance method)">- (Integer) <strong>get_position</strong> </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>The order in the pstack of this position.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#set_element-instance_method" title="#set_element (instance method)">- (Boolean) <strong>set_element</strong>(element) </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Sets the element references to the passed element.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#set_owner-instance_method" title="#set_owner (instance method)">- (Boolean) <strong>set_owner</strong>(new_id) </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Set and save a new owner.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#set_position-instance_method" title="#set_position (instance method)">- (Boolean) <strong>set_position</strong>(new_position) </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Set and save a new position order.</p>
</div></span>
  
</li>

      
    </ul>
  
    <h2>
      Utilities
      <small>(<a href="#" class="summary_toggle">collapse</a>)</small>
    </h2>

    <ul class="summary">
      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#bump_down-instance_method" title="#bump_down (instance method)">- (Boolean) <strong>bump_down</strong> </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Increments the self.position of this Position.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#bump_up-instance_method" title="#bump_up (instance method)">- (Boolean) <strong>bump_up</strong> </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Decrements the self.position of this Position.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#new_related_story-instance_method" title="#new_related_story (instance method)">- (Object) <strong>new_related_story</strong>(story_id) </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Creates a new tie between this position and a related stroy.</p>
</div></span>
  
</li>

      
    </ul>
  


  
  <div id="instance_attr_details" class="attr_details">
    <h2>Instance Attribute Details</h2>
    
      
      <span id="active=-instance_method"></span>
      <div class="method_details first">
  <h3 class="signature first" id="active-instance_method">
  
    - (<tt>Boolean</tt>) <strong>active</strong> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>be able to view this position&#39;s content</p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Boolean</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>the active state in teh pstack, inactive denotes that public users will not</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
63
64
65
66
67
68
69
70
71
72
73
74
75
76
77
78
79
80
81
82
83
84
85
86
87
88
89
90
91
92
93
94
95
96
97
98
99
100
101
102
103
104
105
106
107
108
109
110
111
112
113
114
115
116
117
118
119
120
121
122
123
124
125
126
127
128
129
130
131
132
133
134
135
136
137
138
139
140
141
142
143
144
145
146
147
148
149
150
151
152
153
154
155
156
157
158
159
160
161
162
163
164
165
166
167
168
169
170
171
172
173
174
175
176
177
178
179
180
181
182
183
184
185
186
187
188
189
190
191
192
193
194
195
196
197
198
199
200
201
202
203
204
205</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'app/models/position.rb', line 11</span>

<span class='kw'>class</span> <span class='const'>Position</span> <span class='op'>&lt;</span> <span class='const'>ActiveRecord</span><span class='op'>::</span><span class='const'>Base</span>
    <span class='id identifier rubyid_belongs_to'>belongs_to</span> <span class='symbol'>:story</span>
    <span class='id identifier rubyid_belongs_to'>belongs_to</span> <span class='symbol'>:element</span><span class='comma'>,</span> <span class='label'>polymorphic:</span> <span class='kw'>true</span>
    <span class='id identifier rubyid_belongs_to'>belongs_to</span> <span class='symbol'>:simple_content</span><span class='comma'>,</span> <span class='label'>class_name:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>SimpleContent</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='label'>foreign_key:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>position_id</span><span class='tstring_end'>&quot;</span></span>
    <span class='id identifier rubyid_belongs_to'>belongs_to</span> <span class='symbol'>:quote_content</span><span class='comma'>,</span> <span class='label'>class_name:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>QuoteContent</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='label'>foreign_key:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>position_id</span><span class='tstring_end'>&quot;</span></span>
    <span class='id identifier rubyid_has_many'>has_many</span> <span class='symbol'>:relations</span><span class='comma'>,</span> <span class='label'>as:</span> <span class='symbol'>:tie</span>

    <span class='id identifier rubyid_validates'>validates</span> <span class='symbol'>:story_id</span><span class='comma'>,</span> <span class='symbol'>:element_id</span><span class='comma'>,</span> <span class='symbol'>:element_type</span><span class='comma'>,</span> <span class='symbol'>:position</span><span class='comma'>,</span> <span class='label'>presence:</span> <span class='kw'>true</span>
    <span class='id identifier rubyid_validates'>validates</span> <span class='symbol'>:active</span><span class='comma'>,</span> <span class='label'>inclusion:</span> <span class='lbrace'>{</span> <span class='label'>in:</span> <span class='lbracket'>[</span><span class='kw'>true</span><span class='comma'>,</span> <span class='kw'>false</span><span class='rbracket'>]</span> <span class='rbrace'>}</span>
    <span class='id identifier rubyid_validates_uniqueness_of'>validates_uniqueness_of</span> <span class='symbol'>:position</span><span class='comma'>,</span> <span class='label'>scope:</span> <span class='symbol'>:story_id</span>
    
<span class='comment'># @!group Age and Freshness getters
</span>    
    <span class='comment'># @!method get_date_created
</span>    <span class='comment'># @return [TimeWithZone] the timedate when the citation was created
</span>    <span class='comment'># @example 
</span>    <span class='comment'>#     kat.get_date_created =&gt; Mon, 09 Feb 2015 15:18:20 UTC +00:00
</span>    <span class='kw'>def</span> <span class='id identifier rubyid_get_date_created'>get_date_created</span>
        <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_created_at'>created_at</span>
    <span class='kw'>end</span>

    <span class='comment'># @!method get_date_updated
</span>    <span class='comment'># @return [TimeWithZone] the timedate when the citation was created
</span>    <span class='comment'># @example
</span>    <span class='comment'>#    kat.get_date_updated =&gt; Mon, 09 Feb 2015 15:31:29 UTC +00:00
</span>    <span class='kw'>def</span> <span class='id identifier rubyid_get_date_updated'>get_date_updated</span>
        <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_updated_at'>updated_at</span>
    <span class='kw'>end</span>

    <span class='comment'># @!method age
</span>    <span class='comment'># The age in words. Time from creation until now.
</span>    <span class='comment'># @return [String]
</span>    <span class='comment'># @example
</span>    <span class='comment'>#     cit.age =&gt; &quot;about 16 hours&quot;
</span>    <span class='kw'>def</span> <span class='id identifier rubyid_age'>age</span>
        <span class='id identifier rubyid_time_ago_in_words'>time_ago_in_words</span><span class='lparen'>(</span><span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_get_date_created'>get_date_created</span><span class='rparen'>)</span>
    <span class='kw'>end</span>

    <span class='comment'># @!method freshness
</span>    <span class='comment'># The freshness in words. Time from last updated until now.
</span>    <span class='comment'># @return [String]
</span>    <span class='comment'># @example
</span>    <span class='comment'>#     hl.freshness =&gt; &quot;6 minutes&quot;
</span>    <span class='kw'>def</span> <span class='id identifier rubyid_freshness'>freshness</span>
        <span class='id identifier rubyid_time_ago_in_words'>time_ago_in_words</span><span class='lparen'>(</span><span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_get_date_updated'>get_date_updated</span><span class='rparen'>)</span>
    <span class='kw'>end</span>
    
    <span class='comment'>#@!endgroup
</span>    
    <span class='comment'>#@!group Activation Methods
</span>    
    <span class='comment'># @!method activate
</span>    <span class='comment'># Sets the position to active, &#39;activates the position&#39; and saves it
</span>    <span class='comment'># @return [Boolean] if the save is successful
</span>    <span class='kw'>def</span> <span class='id identifier rubyid_activate'>activate</span>
        <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_active'>active</span> <span class='op'>=</span> <span class='kw'>true</span>
        <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_save'>save</span>
    <span class='kw'>end</span>

    <span class='comment'># @!method inactivate
</span>    <span class='comment'># Sets the position to inactive, &#39;inactivates the position&#39; and saves it
</span>    <span class='comment'># @return [Boolean] if the save is successful
</span>    <span class='kw'>def</span> <span class='id identifier rubyid_inactivate'>inactivate</span>
        <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_active'>active</span> <span class='op'>=</span> <span class='kw'>false</span>
        <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_save'>save</span>
    <span class='kw'>end</span>

    <span class='comment'># @!method is_active?
</span>    <span class='comment'># @return [Boolean] is the position active?
</span>    <span class='kw'>def</span> <span class='id identifier rubyid_is_active?'>is_active?</span>
        <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_active'>active</span>
    <span class='kw'>end</span>

    <span class='comment'># @!method is_inactive?
</span>    <span class='comment'># @return [Boolean] is the position inactive?
</span>    <span class='kw'>def</span> <span class='id identifier rubyid_is_inactive?'>is_inactive?</span>
        <span class='op'>!</span><span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_active'>active</span>       
    <span class='kw'>end</span>
    
    <span class='comment'>#@!endgroup
</span>    
    <span class='comment'>#@!group Descriptive Attributes getters and setters
</span>    
    <span class='comment'># @!method get_position
</span>    <span class='comment'># The order in the pstack of this position.
</span>    <span class='comment'># @return [Integer] the position in the pstack, 1 is topmost
</span>    <span class='kw'>def</span> <span class='id identifier rubyid_get_position'>get_position</span>
        <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_position'>position</span>
    <span class='kw'>end</span>
    
    <span class='comment'># @!method get_owner
</span>    <span class='comment'># The Story owner&#39;s id.
</span>    <span class='comment'># @return [Integer] the owning Story id
</span>    <span class='kw'>def</span> <span class='id identifier rubyid_get_owner'>get_owner</span>
        <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_story_id'>story_id</span>
    <span class='kw'>end</span>
    
    <span class='comment'># @!method get_element_id
</span>    <span class='comment'># The id of the element attached to this position.
</span>    <span class='comment'># @return [Integer]
</span>    <span class='kw'>def</span> <span class='id identifier rubyid_get_element_id'>get_element_id</span>
        <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_element_id'>element_id</span>
    <span class='kw'>end</span>

    <span class='comment'># @!method get_element_type
</span>    <span class='comment'># The type of the element attached to this position.
</span>    <span class='comment'># @return [String]
</span>    <span class='comment'>#    The class name of the element.
</span>    <span class='kw'>def</span> <span class='id identifier rubyid_get_element_type'>get_element_type</span>
        <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_element_type'>element_type</span>
    <span class='kw'>end</span>
    
    <span class='comment'># @!method set_position(new_position)
</span>    <span class='comment'># Set and save a new position order. This should be internally used.
</span>    <span class='comment'># @param [Integer] new_position
</span>    <span class='comment'># @return [Boolean] if the save was successful
</span>    <span class='kw'>def</span> <span class='id identifier rubyid_set_position'>set_position</span><span class='lparen'>(</span><span class='id identifier rubyid_new_position'>new_position</span><span class='rparen'>)</span>
        <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_position'>position</span> <span class='op'>=</span> <span class='id identifier rubyid_new_position'>new_position</span>
        <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_save'>save</span>
    <span class='kw'>end</span>
    
    <span class='comment'># @!method set_owner(new_id)
</span>    <span class='comment'># Set and save a new owner.
</span>    <span class='comment'># @param [Integer] new_id
</span>    <span class='comment'># @return [Boolean] if the save was successful
</span>    <span class='kw'>def</span> <span class='id identifier rubyid_set_owner'>set_owner</span><span class='lparen'>(</span><span class='id identifier rubyid_new_id'>new_id</span><span class='rparen'>)</span>
        <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_story_id'>story_id</span> <span class='op'>=</span> <span class='id identifier rubyid_new_id'>new_id</span>
        <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_save'>save</span>
    <span class='kw'>end</span>

    <span class='comment'># @!method set_element(element)
</span>    <span class='comment'># Sets the element references to the passed element.
</span>    <span class='comment'># @param [QuoteContent, SimpleContent] element pass in the actual element that this position
</span>    <span class='comment'>#    will reference
</span>    <span class='comment'># @return [Boolean] if the save was successful
</span>    <span class='kw'>def</span> <span class='id identifier rubyid_set_element'>set_element</span><span class='lparen'>(</span><span class='id identifier rubyid_element'>element</span><span class='rparen'>)</span>
        <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_element_id'>element_id</span> <span class='op'>=</span> <span class='id identifier rubyid_element'>element</span><span class='period'>.</span><span class='id identifier rubyid_id'>id</span>
        <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_element_type'>element_type</span> <span class='op'>=</span> <span class='id identifier rubyid_element'>element</span><span class='period'>.</span><span class='id identifier rubyid_class'>class</span><span class='period'>.</span><span class='id identifier rubyid_to_s'>to_s</span>
        <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_save'>save</span>
    <span class='kw'>end</span>
        
    <span class='comment'>#@!endgroup
</span>        
    <span class='comment'>#@!group Utilities
</span>    
    <span class='comment'># @!method bump_up 
</span>    <span class='comment'># Decrements the self.position of this Position. 1 is considered the topmost. Should be thought
</span>    <span class='comment'># as if the position is moving up the pstack. This is really a utility method for other
</span>    <span class='comment'># methods. Don&#39;t go using willy nilly.
</span>    <span class='comment'># @return [Boolean] if the save is successful
</span>    <span class='comment'># @example
</span>    <span class='comment'>#    self.position = 7
</span>    <span class='comment'>#    self.bump_up
</span>    <span class='comment'>#    self.get_position #=&gt; 6
</span>    <span class='kw'>def</span> <span class='id identifier rubyid_bump_up'>bump_up</span>
        <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_position'>position</span> <span class='op'>-=</span> <span class='int'>1</span>
        <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_save'>save</span>
    <span class='kw'>end</span>
    
    <span class='comment'># @!method bump_down
</span>    <span class='comment'># Increments the self.position of this Position. 1 is considered the topmost. Should be thought
</span>    <span class='comment'># as if the position is moving down the pstack. This is really a utility method for other
</span>    <span class='comment'># methods. Don&#39;t go using willy nilly.
</span>    <span class='comment'># @return [Boolean] if the save is successful
</span>    <span class='comment'># @example
</span>    <span class='comment'>#    self.position = 7
</span>    <span class='comment'>#    self.bump_down
</span>    <span class='comment'>#    self.get_position #=&gt; 8 
</span>    <span class='kw'>def</span> <span class='id identifier rubyid_bump_down'>bump_down</span>
        <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_position'>position</span> <span class='op'>+=</span> <span class='int'>1</span>
        <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_save'>save</span>
    <span class='kw'>end</span>
        
        
        <span class='comment'># @!method new_related_story(story_id)
</span>        <span class='comment'># Creates a new tie between this position and a related stroy
</span>        <span class='comment'># @param [Integer] story_id the id of the related story
</span>        <span class='kw'>def</span> <span class='id identifier rubyid_new_related_story'>new_related_story</span><span class='lparen'>(</span><span class='id identifier rubyid_story_id'>story_id</span><span class='rparen'>)</span>
            
        <span class='kw'>end</span>
        
    <span class='comment'>#@!endgroup
</span>
    <span class='id identifier rubyid_public'>public</span> <span class='symbol'>:get_date_created</span><span class='comma'>,</span> <span class='symbol'>:get_date_updated</span><span class='comma'>,</span> <span class='symbol'>:age</span><span class='comma'>,</span> <span class='symbol'>:freshness</span>

    <span class='id identifier rubyid_public'>public</span> <span class='symbol'>:activate</span><span class='comma'>,</span> <span class='symbol'>:inactivate</span><span class='comma'>,</span> <span class='symbol'>:is_active?</span><span class='comma'>,</span> <span class='symbol'>:is_inactive?</span> 

    <span class='id identifier rubyid_public'>public</span> <span class='symbol'>:get_owner</span><span class='comma'>,</span> <span class='symbol'>:get_element_id</span><span class='comma'>,</span> <span class='symbol'>:get_element_type</span><span class='comma'>,</span> <span class='symbol'>:get_position</span>   

    <span class='id identifier rubyid_public'>public</span> <span class='symbol'>:set_owner</span><span class='comma'>,</span> <span class='symbol'>:set_position</span><span class='comma'>,</span> <span class='symbol'>:set_element</span>

    <span class='id identifier rubyid_public'>public</span> <span class='symbol'>:bump_up</span><span class='comma'>,</span> <span class='symbol'>:bump_down</span>
      
    <span class='id identifier rubyid_public'>public</span> <span class='symbol'>:new_related_story</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      
      <span id="position=-instance_method"></span>
      <div class="method_details ">
  <h3 class="signature " id="position-instance_method">
  
    - (<tt>Integer</tt>) <strong>position</strong> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Returns the position in the pstack of an associated story</p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Integer</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>the position in the pstack of an associated story</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
63
64
65
66
67
68
69
70
71
72
73
74
75
76
77
78
79
80
81
82
83
84
85
86
87
88
89
90
91
92
93
94
95
96
97
98
99
100
101
102
103
104
105
106
107
108
109
110
111
112
113
114
115
116
117
118
119
120
121
122
123
124
125
126
127
128
129
130
131
132
133
134
135
136
137
138
139
140
141
142
143
144
145
146
147
148
149
150
151
152
153
154
155
156
157
158
159
160
161
162
163
164
165
166
167
168
169
170
171
172
173
174
175
176
177
178
179
180
181
182
183
184
185
186
187
188
189
190
191
192
193
194
195
196
197
198
199
200
201
202
203
204
205</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'app/models/position.rb', line 11</span>

<span class='kw'>class</span> <span class='const'>Position</span> <span class='op'>&lt;</span> <span class='const'>ActiveRecord</span><span class='op'>::</span><span class='const'>Base</span>
    <span class='id identifier rubyid_belongs_to'>belongs_to</span> <span class='symbol'>:story</span>
    <span class='id identifier rubyid_belongs_to'>belongs_to</span> <span class='symbol'>:element</span><span class='comma'>,</span> <span class='label'>polymorphic:</span> <span class='kw'>true</span>
    <span class='id identifier rubyid_belongs_to'>belongs_to</span> <span class='symbol'>:simple_content</span><span class='comma'>,</span> <span class='label'>class_name:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>SimpleContent</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='label'>foreign_key:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>position_id</span><span class='tstring_end'>&quot;</span></span>
    <span class='id identifier rubyid_belongs_to'>belongs_to</span> <span class='symbol'>:quote_content</span><span class='comma'>,</span> <span class='label'>class_name:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>QuoteContent</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='label'>foreign_key:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>position_id</span><span class='tstring_end'>&quot;</span></span>
    <span class='id identifier rubyid_has_many'>has_many</span> <span class='symbol'>:relations</span><span class='comma'>,</span> <span class='label'>as:</span> <span class='symbol'>:tie</span>

    <span class='id identifier rubyid_validates'>validates</span> <span class='symbol'>:story_id</span><span class='comma'>,</span> <span class='symbol'>:element_id</span><span class='comma'>,</span> <span class='symbol'>:element_type</span><span class='comma'>,</span> <span class='symbol'>:position</span><span class='comma'>,</span> <span class='label'>presence:</span> <span class='kw'>true</span>
    <span class='id identifier rubyid_validates'>validates</span> <span class='symbol'>:active</span><span class='comma'>,</span> <span class='label'>inclusion:</span> <span class='lbrace'>{</span> <span class='label'>in:</span> <span class='lbracket'>[</span><span class='kw'>true</span><span class='comma'>,</span> <span class='kw'>false</span><span class='rbracket'>]</span> <span class='rbrace'>}</span>
    <span class='id identifier rubyid_validates_uniqueness_of'>validates_uniqueness_of</span> <span class='symbol'>:position</span><span class='comma'>,</span> <span class='label'>scope:</span> <span class='symbol'>:story_id</span>
    
<span class='comment'># @!group Age and Freshness getters
</span>    
    <span class='comment'># @!method get_date_created
</span>    <span class='comment'># @return [TimeWithZone] the timedate when the citation was created
</span>    <span class='comment'># @example 
</span>    <span class='comment'>#     kat.get_date_created =&gt; Mon, 09 Feb 2015 15:18:20 UTC +00:00
</span>    <span class='kw'>def</span> <span class='id identifier rubyid_get_date_created'>get_date_created</span>
        <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_created_at'>created_at</span>
    <span class='kw'>end</span>

    <span class='comment'># @!method get_date_updated
</span>    <span class='comment'># @return [TimeWithZone] the timedate when the citation was created
</span>    <span class='comment'># @example
</span>    <span class='comment'>#    kat.get_date_updated =&gt; Mon, 09 Feb 2015 15:31:29 UTC +00:00
</span>    <span class='kw'>def</span> <span class='id identifier rubyid_get_date_updated'>get_date_updated</span>
        <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_updated_at'>updated_at</span>
    <span class='kw'>end</span>

    <span class='comment'># @!method age
</span>    <span class='comment'># The age in words. Time from creation until now.
</span>    <span class='comment'># @return [String]
</span>    <span class='comment'># @example
</span>    <span class='comment'>#     cit.age =&gt; &quot;about 16 hours&quot;
</span>    <span class='kw'>def</span> <span class='id identifier rubyid_age'>age</span>
        <span class='id identifier rubyid_time_ago_in_words'>time_ago_in_words</span><span class='lparen'>(</span><span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_get_date_created'>get_date_created</span><span class='rparen'>)</span>
    <span class='kw'>end</span>

    <span class='comment'># @!method freshness
</span>    <span class='comment'># The freshness in words. Time from last updated until now.
</span>    <span class='comment'># @return [String]
</span>    <span class='comment'># @example
</span>    <span class='comment'>#     hl.freshness =&gt; &quot;6 minutes&quot;
</span>    <span class='kw'>def</span> <span class='id identifier rubyid_freshness'>freshness</span>
        <span class='id identifier rubyid_time_ago_in_words'>time_ago_in_words</span><span class='lparen'>(</span><span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_get_date_updated'>get_date_updated</span><span class='rparen'>)</span>
    <span class='kw'>end</span>
    
    <span class='comment'>#@!endgroup
</span>    
    <span class='comment'>#@!group Activation Methods
</span>    
    <span class='comment'># @!method activate
</span>    <span class='comment'># Sets the position to active, &#39;activates the position&#39; and saves it
</span>    <span class='comment'># @return [Boolean] if the save is successful
</span>    <span class='kw'>def</span> <span class='id identifier rubyid_activate'>activate</span>
        <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_active'>active</span> <span class='op'>=</span> <span class='kw'>true</span>
        <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_save'>save</span>
    <span class='kw'>end</span>

    <span class='comment'># @!method inactivate
</span>    <span class='comment'># Sets the position to inactive, &#39;inactivates the position&#39; and saves it
</span>    <span class='comment'># @return [Boolean] if the save is successful
</span>    <span class='kw'>def</span> <span class='id identifier rubyid_inactivate'>inactivate</span>
        <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_active'>active</span> <span class='op'>=</span> <span class='kw'>false</span>
        <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_save'>save</span>
    <span class='kw'>end</span>

    <span class='comment'># @!method is_active?
</span>    <span class='comment'># @return [Boolean] is the position active?
</span>    <span class='kw'>def</span> <span class='id identifier rubyid_is_active?'>is_active?</span>
        <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_active'>active</span>
    <span class='kw'>end</span>

    <span class='comment'># @!method is_inactive?
</span>    <span class='comment'># @return [Boolean] is the position inactive?
</span>    <span class='kw'>def</span> <span class='id identifier rubyid_is_inactive?'>is_inactive?</span>
        <span class='op'>!</span><span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_active'>active</span>       
    <span class='kw'>end</span>
    
    <span class='comment'>#@!endgroup
</span>    
    <span class='comment'>#@!group Descriptive Attributes getters and setters
</span>    
    <span class='comment'># @!method get_position
</span>    <span class='comment'># The order in the pstack of this position.
</span>    <span class='comment'># @return [Integer] the position in the pstack, 1 is topmost
</span>    <span class='kw'>def</span> <span class='id identifier rubyid_get_position'>get_position</span>
        <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_position'>position</span>
    <span class='kw'>end</span>
    
    <span class='comment'># @!method get_owner
</span>    <span class='comment'># The Story owner&#39;s id.
</span>    <span class='comment'># @return [Integer] the owning Story id
</span>    <span class='kw'>def</span> <span class='id identifier rubyid_get_owner'>get_owner</span>
        <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_story_id'>story_id</span>
    <span class='kw'>end</span>
    
    <span class='comment'># @!method get_element_id
</span>    <span class='comment'># The id of the element attached to this position.
</span>    <span class='comment'># @return [Integer]
</span>    <span class='kw'>def</span> <span class='id identifier rubyid_get_element_id'>get_element_id</span>
        <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_element_id'>element_id</span>
    <span class='kw'>end</span>

    <span class='comment'># @!method get_element_type
</span>    <span class='comment'># The type of the element attached to this position.
</span>    <span class='comment'># @return [String]
</span>    <span class='comment'>#    The class name of the element.
</span>    <span class='kw'>def</span> <span class='id identifier rubyid_get_element_type'>get_element_type</span>
        <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_element_type'>element_type</span>
    <span class='kw'>end</span>
    
    <span class='comment'># @!method set_position(new_position)
</span>    <span class='comment'># Set and save a new position order. This should be internally used.
</span>    <span class='comment'># @param [Integer] new_position
</span>    <span class='comment'># @return [Boolean] if the save was successful
</span>    <span class='kw'>def</span> <span class='id identifier rubyid_set_position'>set_position</span><span class='lparen'>(</span><span class='id identifier rubyid_new_position'>new_position</span><span class='rparen'>)</span>
        <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_position'>position</span> <span class='op'>=</span> <span class='id identifier rubyid_new_position'>new_position</span>
        <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_save'>save</span>
    <span class='kw'>end</span>
    
    <span class='comment'># @!method set_owner(new_id)
</span>    <span class='comment'># Set and save a new owner.
</span>    <span class='comment'># @param [Integer] new_id
</span>    <span class='comment'># @return [Boolean] if the save was successful
</span>    <span class='kw'>def</span> <span class='id identifier rubyid_set_owner'>set_owner</span><span class='lparen'>(</span><span class='id identifier rubyid_new_id'>new_id</span><span class='rparen'>)</span>
        <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_story_id'>story_id</span> <span class='op'>=</span> <span class='id identifier rubyid_new_id'>new_id</span>
        <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_save'>save</span>
    <span class='kw'>end</span>

    <span class='comment'># @!method set_element(element)
</span>    <span class='comment'># Sets the element references to the passed element.
</span>    <span class='comment'># @param [QuoteContent, SimpleContent] element pass in the actual element that this position
</span>    <span class='comment'>#    will reference
</span>    <span class='comment'># @return [Boolean] if the save was successful
</span>    <span class='kw'>def</span> <span class='id identifier rubyid_set_element'>set_element</span><span class='lparen'>(</span><span class='id identifier rubyid_element'>element</span><span class='rparen'>)</span>
        <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_element_id'>element_id</span> <span class='op'>=</span> <span class='id identifier rubyid_element'>element</span><span class='period'>.</span><span class='id identifier rubyid_id'>id</span>
        <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_element_type'>element_type</span> <span class='op'>=</span> <span class='id identifier rubyid_element'>element</span><span class='period'>.</span><span class='id identifier rubyid_class'>class</span><span class='period'>.</span><span class='id identifier rubyid_to_s'>to_s</span>
        <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_save'>save</span>
    <span class='kw'>end</span>
        
    <span class='comment'>#@!endgroup
</span>        
    <span class='comment'>#@!group Utilities
</span>    
    <span class='comment'># @!method bump_up 
</span>    <span class='comment'># Decrements the self.position of this Position. 1 is considered the topmost. Should be thought
</span>    <span class='comment'># as if the position is moving up the pstack. This is really a utility method for other
</span>    <span class='comment'># methods. Don&#39;t go using willy nilly.
</span>    <span class='comment'># @return [Boolean] if the save is successful
</span>    <span class='comment'># @example
</span>    <span class='comment'>#    self.position = 7
</span>    <span class='comment'>#    self.bump_up
</span>    <span class='comment'>#    self.get_position #=&gt; 6
</span>    <span class='kw'>def</span> <span class='id identifier rubyid_bump_up'>bump_up</span>
        <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_position'>position</span> <span class='op'>-=</span> <span class='int'>1</span>
        <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_save'>save</span>
    <span class='kw'>end</span>
    
    <span class='comment'># @!method bump_down
</span>    <span class='comment'># Increments the self.position of this Position. 1 is considered the topmost. Should be thought
</span>    <span class='comment'># as if the position is moving down the pstack. This is really a utility method for other
</span>    <span class='comment'># methods. Don&#39;t go using willy nilly.
</span>    <span class='comment'># @return [Boolean] if the save is successful
</span>    <span class='comment'># @example
</span>    <span class='comment'>#    self.position = 7
</span>    <span class='comment'>#    self.bump_down
</span>    <span class='comment'>#    self.get_position #=&gt; 8 
</span>    <span class='kw'>def</span> <span class='id identifier rubyid_bump_down'>bump_down</span>
        <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_position'>position</span> <span class='op'>+=</span> <span class='int'>1</span>
        <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_save'>save</span>
    <span class='kw'>end</span>
        
        
        <span class='comment'># @!method new_related_story(story_id)
</span>        <span class='comment'># Creates a new tie between this position and a related stroy
</span>        <span class='comment'># @param [Integer] story_id the id of the related story
</span>        <span class='kw'>def</span> <span class='id identifier rubyid_new_related_story'>new_related_story</span><span class='lparen'>(</span><span class='id identifier rubyid_story_id'>story_id</span><span class='rparen'>)</span>
            
        <span class='kw'>end</span>
        
    <span class='comment'>#@!endgroup
</span>
    <span class='id identifier rubyid_public'>public</span> <span class='symbol'>:get_date_created</span><span class='comma'>,</span> <span class='symbol'>:get_date_updated</span><span class='comma'>,</span> <span class='symbol'>:age</span><span class='comma'>,</span> <span class='symbol'>:freshness</span>

    <span class='id identifier rubyid_public'>public</span> <span class='symbol'>:activate</span><span class='comma'>,</span> <span class='symbol'>:inactivate</span><span class='comma'>,</span> <span class='symbol'>:is_active?</span><span class='comma'>,</span> <span class='symbol'>:is_inactive?</span> 

    <span class='id identifier rubyid_public'>public</span> <span class='symbol'>:get_owner</span><span class='comma'>,</span> <span class='symbol'>:get_element_id</span><span class='comma'>,</span> <span class='symbol'>:get_element_type</span><span class='comma'>,</span> <span class='symbol'>:get_position</span>   

    <span class='id identifier rubyid_public'>public</span> <span class='symbol'>:set_owner</span><span class='comma'>,</span> <span class='symbol'>:set_position</span><span class='comma'>,</span> <span class='symbol'>:set_element</span>

    <span class='id identifier rubyid_public'>public</span> <span class='symbol'>:bump_up</span><span class='comma'>,</span> <span class='symbol'>:bump_down</span>
      
    <span class='id identifier rubyid_public'>public</span> <span class='symbol'>:new_related_story</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
  </div>


  <div id="instance_method_details" class="method_details_list">
    <h2>Instance Method Details</h2>

    
      <div class="method_details first">
  <h3 class="signature first" id="activate-instance_method">
  
    - (<tt>Boolean</tt>) <strong>activate</strong> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Sets the position to active, &#39;activates the position&#39; and saves it</p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Boolean</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>if the save is successful</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


65
66
67
68</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'app/models/position.rb', line 65</span>

<span class='kw'>def</span> <span class='id identifier rubyid_activate'>activate</span>
    <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_active'>active</span> <span class='op'>=</span> <span class='kw'>true</span>
    <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_save'>save</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="age-instance_method">
  
    - (<tt>String</tt>) <strong>age</strong> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>The age in words. Time from creation until now.</p>


  </div>
</div>
<div class="tags">
  
  <div class="examples">
    <p class="tag_title">Examples:</p>
    
      
      <pre class="example code"><code>cit.age =&gt; &quot;about 16 hours&quot;</code></pre>
    
  </div>

<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>String</tt>)</span>
      
      
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


45
46
47</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'app/models/position.rb', line 45</span>

<span class='kw'>def</span> <span class='id identifier rubyid_age'>age</span>
    <span class='id identifier rubyid_time_ago_in_words'>time_ago_in_words</span><span class='lparen'>(</span><span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_get_date_created'>get_date_created</span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="bump_down-instance_method">
  
    - (<tt>Boolean</tt>) <strong>bump_down</strong> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Increments the self.position of this Position. 1 is considered the topmost.
Should be thought as if the position is moving down the pstack. This is
really a utility method for other methods. Don&#39;t go using willy nilly.</p>


  </div>
</div>
<div class="tags">
  
  <div class="examples">
    <p class="tag_title">Examples:</p>
    
      
      <pre class="example code"><code><span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_position'>position</span> <span class='op'>=</span> <span class='int'>7</span>
<span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_bump_down'>bump_down</span>
<span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_get_position'>get_position</span> <span class='comment'>#=&gt; 8 </span></code></pre>
    
  </div>

<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Boolean</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>if the save is successful</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


179
180
181
182</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'app/models/position.rb', line 179</span>

<span class='kw'>def</span> <span class='id identifier rubyid_bump_down'>bump_down</span>
    <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_position'>position</span> <span class='op'>+=</span> <span class='int'>1</span>
    <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_save'>save</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="bump_up-instance_method">
  
    - (<tt>Boolean</tt>) <strong>bump_up</strong> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Decrements the self.position of this Position. 1 is considered the topmost.
Should be thought as if the position is moving up the pstack. This is
really a utility method for other methods. Don&#39;t go using willy nilly.</p>


  </div>
</div>
<div class="tags">
  
  <div class="examples">
    <p class="tag_title">Examples:</p>
    
      
      <pre class="example code"><code><span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_position'>position</span> <span class='op'>=</span> <span class='int'>7</span>
<span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_bump_up'>bump_up</span>
<span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_get_position'>get_position</span> <span class='comment'>#=&gt; 6</span></code></pre>
    
  </div>

<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Boolean</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>if the save is successful</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


165
166
167
168</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'app/models/position.rb', line 165</span>

<span class='kw'>def</span> <span class='id identifier rubyid_bump_up'>bump_up</span>
    <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_position'>position</span> <span class='op'>-=</span> <span class='int'>1</span>
    <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_save'>save</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="freshness-instance_method">
  
    - (<tt>String</tt>) <strong>freshness</strong> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>The freshness in words. Time from last updated until now.</p>


  </div>
</div>
<div class="tags">
  
  <div class="examples">
    <p class="tag_title">Examples:</p>
    
      
      <pre class="example code"><code>hl.freshness =&gt; &quot;6 minutes&quot;</code></pre>
    
  </div>

<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>String</tt>)</span>
      
      
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


54
55
56</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'app/models/position.rb', line 54</span>

<span class='kw'>def</span> <span class='id identifier rubyid_freshness'>freshness</span>
    <span class='id identifier rubyid_time_ago_in_words'>time_ago_in_words</span><span class='lparen'>(</span><span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_get_date_updated'>get_date_updated</span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="get_date_created-instance_method">
  
    - (<tt>TimeWithZone</tt>) <strong>get_date_created</strong> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Returns the timedate when the citation was created</p>


  </div>
</div>
<div class="tags">
  
  <div class="examples">
    <p class="tag_title">Examples:</p>
    
      
      <pre class="example code"><code>kat.get_date_created =&gt; Mon, 09 Feb 2015 15:18:20 UTC +00:00</code></pre>
    
  </div>

<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>TimeWithZone</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>the timedate when the citation was created</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


28
29
30</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'app/models/position.rb', line 28</span>

<span class='kw'>def</span> <span class='id identifier rubyid_get_date_created'>get_date_created</span>
    <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_created_at'>created_at</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="get_date_updated-instance_method">
  
    - (<tt>TimeWithZone</tt>) <strong>get_date_updated</strong> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Returns the timedate when the citation was created</p>


  </div>
</div>
<div class="tags">
  
  <div class="examples">
    <p class="tag_title">Examples:</p>
    
      
      <pre class="example code"><code>kat.get_date_updated =&gt; Mon, 09 Feb 2015 15:31:29 UTC +00:00</code></pre>
    
  </div>

<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>TimeWithZone</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>the timedate when the citation was created</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


36
37
38</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'app/models/position.rb', line 36</span>

<span class='kw'>def</span> <span class='id identifier rubyid_get_date_updated'>get_date_updated</span>
    <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_updated_at'>updated_at</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="get_element_id-instance_method">
  
    - (<tt>Integer</tt>) <strong>get_element_id</strong> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>The id of the element attached to this position.</p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Integer</tt>)</span>
      
      
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


111
112
113</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'app/models/position.rb', line 111</span>

<span class='kw'>def</span> <span class='id identifier rubyid_get_element_id'>get_element_id</span>
    <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_element_id'>element_id</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="get_element_type-instance_method">
  
    - (<tt>String</tt>) <strong>get_element_type</strong> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>The type of the element attached to this position.</p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>String</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>The class name of the element.</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


119
120
121</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'app/models/position.rb', line 119</span>

<span class='kw'>def</span> <span class='id identifier rubyid_get_element_type'>get_element_type</span>
    <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_element_type'>element_type</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="get_owner-instance_method">
  
    - (<tt>Integer</tt>) <strong>get_owner</strong> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>The Story owner&#39;s id.</p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Integer</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>the owning Story id</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


104
105
106</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'app/models/position.rb', line 104</span>

<span class='kw'>def</span> <span class='id identifier rubyid_get_owner'>get_owner</span>
    <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_story_id'>story_id</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="get_position-instance_method">
  
    - (<tt>Integer</tt>) <strong>get_position</strong> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>The order in the pstack of this position.</p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Integer</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>the position in the pstack, 1 is topmost</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


97
98
99</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'app/models/position.rb', line 97</span>

<span class='kw'>def</span> <span class='id identifier rubyid_get_position'>get_position</span>
    <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_position'>position</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="inactivate-instance_method">
  
    - (<tt>Boolean</tt>) <strong>inactivate</strong> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Sets the position to inactive, &#39;inactivates the position&#39; and saves
it</p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Boolean</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>if the save is successful</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


73
74
75
76</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'app/models/position.rb', line 73</span>

<span class='kw'>def</span> <span class='id identifier rubyid_inactivate'>inactivate</span>
    <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_active'>active</span> <span class='op'>=</span> <span class='kw'>false</span>
    <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_save'>save</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="is_active?-instance_method">
  
    - (<tt>Boolean</tt>) <strong>is_active?</strong> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Returns is the position active?</p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Boolean</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>is the position active?</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


80
81
82</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'app/models/position.rb', line 80</span>

<span class='kw'>def</span> <span class='id identifier rubyid_is_active?'>is_active?</span>
    <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_active'>active</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="is_inactive?-instance_method">
  
    - (<tt>Boolean</tt>) <strong>is_inactive?</strong> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Returns is the position inactive?</p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Boolean</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>is the position inactive?</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


86
87
88</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'app/models/position.rb', line 86</span>

<span class='kw'>def</span> <span class='id identifier rubyid_is_inactive?'>is_inactive?</span>
    <span class='op'>!</span><span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_active'>active</span>       
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="new_related_story-instance_method">
  
    - (<tt>Object</tt>) <strong>new_related_story</strong>(story_id) 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Creates a new tie between this position and a related stroy</p>


  </div>
</div>
<div class="tags">
  <p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>story_id</span>
      
      
        <span class='type'>(<tt>Integer</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>the id of the related story</p>
</div>
      
    </li>
  
</ul>


</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


188
189
190</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'app/models/position.rb', line 188</span>

<span class='kw'>def</span> <span class='id identifier rubyid_new_related_story'>new_related_story</span><span class='lparen'>(</span><span class='id identifier rubyid_story_id'>story_id</span><span class='rparen'>)</span>
    
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="set_element-instance_method">
  
    - (<tt>Boolean</tt>) <strong>set_element</strong>(element) 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Sets the element references to the passed element.</p>


  </div>
</div>
<div class="tags">
  <p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>element</span>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="QuoteContent.html" title="QuoteContent (class)">QuoteContent</a></span></tt>, <tt><span class='object_link'><a href="SimpleContent.html" title="SimpleContent (class)">SimpleContent</a></span></tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>pass in the actual element that this position will reference</p>
</div>
      
    </li>
  
</ul>

<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Boolean</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>if the save was successful</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


146
147
148
149
150</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'app/models/position.rb', line 146</span>

<span class='kw'>def</span> <span class='id identifier rubyid_set_element'>set_element</span><span class='lparen'>(</span><span class='id identifier rubyid_element'>element</span><span class='rparen'>)</span>
    <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_element_id'>element_id</span> <span class='op'>=</span> <span class='id identifier rubyid_element'>element</span><span class='period'>.</span><span class='id identifier rubyid_id'>id</span>
    <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_element_type'>element_type</span> <span class='op'>=</span> <span class='id identifier rubyid_element'>element</span><span class='period'>.</span><span class='id identifier rubyid_class'>class</span><span class='period'>.</span><span class='id identifier rubyid_to_s'>to_s</span>
    <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_save'>save</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="set_owner-instance_method">
  
    - (<tt>Boolean</tt>) <strong>set_owner</strong>(new_id) 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Set and save a new owner.</p>


  </div>
</div>
<div class="tags">
  <p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>new_id</span>
      
      
        <span class='type'>(<tt>Integer</tt>)</span>
      
      
      
    </li>
  
</ul>

<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Boolean</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>if the save was successful</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


136
137
138
139</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'app/models/position.rb', line 136</span>

<span class='kw'>def</span> <span class='id identifier rubyid_set_owner'>set_owner</span><span class='lparen'>(</span><span class='id identifier rubyid_new_id'>new_id</span><span class='rparen'>)</span>
    <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_story_id'>story_id</span> <span class='op'>=</span> <span class='id identifier rubyid_new_id'>new_id</span>
    <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_save'>save</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="set_position-instance_method">
  
    - (<tt>Boolean</tt>) <strong>set_position</strong>(new_position) 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Set and save a new position order. This should be internally used.</p>


  </div>
</div>
<div class="tags">
  <p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>new_position</span>
      
      
        <span class='type'>(<tt>Integer</tt>)</span>
      
      
      
    </li>
  
</ul>

<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Boolean</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>if the save was successful</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


127
128
129
130</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'app/models/position.rb', line 127</span>

<span class='kw'>def</span> <span class='id identifier rubyid_set_position'>set_position</span><span class='lparen'>(</span><span class='id identifier rubyid_new_position'>new_position</span><span class='rparen'>)</span>
    <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_position'>position</span> <span class='op'>=</span> <span class='id identifier rubyid_new_position'>new_position</span>
    <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_save'>save</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
  </div>

</div>

    <div id="footer">
  Generated on Thu Feb 19 08:53:34 2015 by
  <a href="http://yardoc.org" title="Yay! A Ruby Documentation Tool" target="_parent">yard</a>
  0.8.7.6 (ruby-2.1.1).
</div>

  </body>
</html>